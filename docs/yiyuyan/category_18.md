# 🛰️ 盾
## 📌 函数: HD盾_保护
### 描述
```
一键保护进程(隐藏等)
```
### 原型
```
__int64 __stdcall HCHDPP_Protect(__int32 pid);
```
### 参数
```
__int32 pid - 进程PID
```
### 返回值
```
查看返回值表
```
### 注意事项
```
需要调用HCHD_LoadDrv2传递参数3来安装保护盾HDPP驱动
```
### HD盾_保护 - 基础示例
```
.版本 2

.子程序 _设置内存保护
    .局部变量 原保护属性, 长整数型
    
    原保护属性 = HD内存_虚拟内存保护 (0, 8388608, 1024, 64)
    调试输出 ("内存保护设置成功")
```
### HD盾_保护 - 进阶用法
```
.版本 2
.子程序 示例2
    调试输出("示例2")
```
### HD盾_保护 - 高级应用
```
.版本 2
.子程序 高级示例
    调试输出("高级示例")
```

---
## 📌 函数: HD盾_开启窗口保护
### 描述
```
打开窗口保护以及子窗口
```
### 原型
```
__int64 __stdcall HCHDPW_OnProtect(__int64 hwnd);
```
### 参数
```
__int64 hwnd - 窗口句柄目标窗口句柄一般为父窗口句柄
```
### 返回值
```
查看返回值表
```
### 注意事项
```
需要调用HCHD_LoadDrv2传递参数5来安装保护盾HDPW驱动
可以多次指定内部会把指定的保护窗口句柄以及所属子窗口一起保护
```
### HD盾_开启窗口保护 - 基础示例
```
.版本 2

.子程序 测试开启窗口保护, 逻辑型, 公开
    .局部变量 目标窗口, 长整数型
    .局部变量 结果, 逻辑型
    
    ' 获取需要保护的窗口句柄
    目标窗口 ＝ 寻找窗口 ("", "重要程序")
    .如果 (目标窗口 ＝ 0)
        调试输出 ("未找到目标窗口")
        返回 (假)
    .如果结束
    
    调试输出 ("准备开启窗口保护")
    调试输出 ("目标窗口句柄：", 目标窗口)
    
    ' 开启窗口保护
    结果 ＝ HDPW_开启保护 (目标窗口)
    .如果 (结果 ＝ 真)
        调试输出 ("窗口保护已启用")
        调试输出 ("该窗口现在受到保护，无法被遍历和获取")
    .否则
        调试输出 ("开启窗口保护失败")
        调试输出 ("请检查是否安装了驱动组件序号5")
    .如果结束
    
    返回 (结果)
```
### HD盾_开启窗口保护 - 进阶用法
```
.版本 2
.子程序 示例2
    调试输出("示例2")
```
### HD盾_开启窗口保护 - 高级应用
```
.版本 2
.子程序 高级示例
    调试输出("高级示例")
```

---
## 📌 函数: HD盾_关闭窗口保护
### 描述
```
取消所有窗口保护(指定保护过的)
```
### 原型
```
__int64 __stdcall HCHDPW_OffProtect();
```
### 返回值
```
查看返回值表
```
### 注意事项
```
需要调用HCHD_LoadDrv2传递参数5来安装保护盾HDPW驱动
可以取消调用过HCHDPW_OnProtect所有保护的窗口句柄
```
### HD盾_关闭窗口保护 - 基础示例
```
.版本 2

.子程序 测试进程保护, 逻辑型, 公开
    .局部变量 目标PID, 整数型
    .局部变量 结果, 逻辑型
    .局部变量 进程名称, 文本型
    
    ' 获取当前进程PID进行测试
    目标PID ＝ 取进程标识符 ()
    进程名称 ＝ "当前进程"
    
    调试输出 ("准备保护进程")
    调试输出 ("目标PID：", 目标PID)
    调试输出 ("进程：", 进程名称)
    
    ' 执行进程保护
    结果 ＝ HD保护_PP (目标PID)
    .如果 (结果 ＝ 真)
        调试输出 ("进程保护设置成功")
        调试输出 ("进程已被隐藏和保护")
        调试输出 ("注意：需要安装驱动组件序号3")
    .否则
        调试输出 ("进程保护设置失败")
        调试输出 ("请检查：")
        调试输出 ("1. PID是否有效：", 目标PID)
        调试输出 ("2. 是否安装了驱动组件序号3")
        调试输出 ("3. 是否有足够的系统权限")
    .如果结束
    
    返回 (结果)
```
### HD盾_关闭窗口保护 - 进阶用法
```
.版本 2
.子程序 示例2
    调试输出("示例2")
```
### HD盾_关闭窗口保护 - 高级应用
```
.版本 2
.子程序 高级示例
    调试输出("高级示例")
```

---
